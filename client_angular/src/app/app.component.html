<mat-toolbar color="primary" class="toolbar">
  <span>chaa-i - Angular Client</span>
  <span class="spacer"></span>
  <div class="mode-switch">
    <button
      mat-stroked-button
      [color]="mode() === 'simple' ? 'accent' : null"
      [disabled]="mode() === 'simple'"
      (click)="setMode('simple')"
    >
      Simple
    </button>
    <button
      mat-stroked-button
      [color]="mode() === 'advanced' ? 'accent' : null"
      [disabled]="mode() === 'advanced'"
      (click)="setMode('advanced')"
    >
      Erweitert
    </button>
    <button
      mat-stroked-button
      [color]="mode() === 'diagnostic' ? 'accent' : null"
      [disabled]="mode() === 'diagnostic'"
      (click)="setMode('diagnostic')"
    >
      Diagnose
    </button>
  </div>
</mat-toolbar>

<ng-container [ngSwitch]="mode()">
  <app-simple-ui
    *ngSwitchCase="'simple'"
    [status]="status()"
    [statusClass]="statusClass()"
    [connected]="connected()"
    [userId]="configForm.get('userId')?.value ?? ''"
    [simpleKeyLabel]="simpleKeyLabel"
    [simpleForm]="simpleForm"
    [logEntries]="simpleLogEntries()"
    (connectClick)="connect()"
    (disconnectClick)="disconnect()"
    (sendClick)="sendMessage()"
  ></app-simple-ui>

  <ng-container *ngSwitchCase="'diagnostic'">
    <app-complex-ui
      [configForm]="configForm"
      [messageForm]="messageForm"
      [status]="status()"
      [statusClass]="statusClass()"
      [connected]="connected()"
      (connectClick)="connect()"
      (disconnectClick)="disconnect()"
      (sendClick)="sendMessage()"
      (applyPassphraseClick)="applyPassphrase()"
    >
      <app-diagnostic-panel [entries]="diagnosticLogEntries()"></app-diagnostic-panel>
    </app-complex-ui>
  </ng-container>

  <ng-container *ngSwitchDefault>
    <app-complex-ui
      [configForm]="configForm"
      [messageForm]="messageForm"
      [status]="status()"
      [statusClass]="statusClass()"
      [connected]="connected()"
      (connectClick)="connect()"
      (disconnectClick)="disconnect()"
      (sendClick)="sendMessage()"
      (applyPassphraseClick)="applyPassphrase()"
    >
      <app-log-display [entries]="logEntries()"></app-log-display>
    </app-complex-ui>
  </ng-container>
</ng-container>
